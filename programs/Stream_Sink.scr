type <int> as payload;
local protocol Stream at Sink(role Source,role Sink) {
rec LOOP {
choice from Source {
@work;
Send(payload) from Source;
continue LOOP;
} or {
@stop;
End;
}
}
}